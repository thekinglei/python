简单认识python cmd模块  
在早前用别人的工具时，发现有些大佬会用到交互式shell，那时候就挺好奇的，但是一直都没有看一下怎么做到的。

今天在翻p牛的博客的时候，看到他早之前写的一个工具就有用到交互式shell，看了看源码，发现是用到了一个叫做cmd的模块

cmd模块是python中包含的一个公共模块，用于交互式shell和其它命令解释器等的基类。我们可以基于cmd模块自定义我们的子类，实现我们自己的交互式shell。

它的执行流程也挺简单的，使用命令行解释器循环读取输入的所有行并解析它们，然后把输入行交给命令处理器来处理。命令行处理器接收并解析输入行，这里先需要知道输入行包括两个部分：命令和参数。通过继承和子类方法重载父类方法的特性，命令行处理器找到适合处理该命令的子类方法。

比如我们输入的是hello baby，那么我们就重写名为do_hello的函数。倘若处理方法返回True，则直接退出循环。

在认识了cmd模块的主要运行流程，下面就认识一下它的主要函数与及一些我们需要用到的属性。

方法:

（1）cmdloop()：类似与Tkinter的mainloop，运行Cmd解析器；

（2）onecmd(str)：读取输入，并进行处理，通常不需要重载该函数，而是使用更加具体的do_command来执行特定的命令；

（3）emptyline()：当输入空行时调用该方法；

（4）default(line)：当无法识别输入的command时调用该方法；

（5）completedefault(text,line,begidx,endidx):如果不存在针对的complete_*()方法，那么会调用该函数，该函数主要是用于tab补充，且只能在linux下使用。

（6）precmd(line)：命令line解析之前被调用该方法；

（7）postcmd(stop，line)：命令line解析之后被调用该方法；

（8）preloop()：cmdloop()运行之前调用该方法；

（9）postloop()：cmdloop()退出之后调用该方法；

（10）help_command()：对command命令的说明，其中command为可变字符

 

属性:

（1）prompt：交互式提示字符，也就是刚才的(Cmd)可以换成我们自己想要的字符

（2）intro：在进入交互式shell前输出的字符串，可以认定为标志语之类的。其实这个可以在preloop方法输出也是一样的
